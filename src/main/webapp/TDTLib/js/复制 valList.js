/*var szd = [{
    "values": [{
        "count": "16",
        "name": "一等南宁-廉江线水准网"
    }, {
        "count": "102",
        "name": "一等廉江-广州线水准网"
    }, {
        "count": "57",
        "name": "一等廉江-海口线水准网"
    }, {
        "count": "2",
        "name": "一等廉湛验潮站支线线水准网"
    }, {
        "count": "5",
        "name": "三等下桥-曲界线水准网"
    }, {
        "count": "9",
        "name": "三等前山-徐闻线水准网"
    }, {
        "count": "6",
        "name": "三等化州-吴川线水准网"
    }],
    "name": "idNet",
    "dName": "网名",
    "format": "combox"
}, {
    "values": [{
        "count": "79188",
        "name": "一等"
    }, {
        "count": "26942",
        "name": "三等"
    }, {
        "count": "86447",
        "name": "二等"
    }, {
        "count": "4486",
        "name": "四等"
    }, {
        "count": "785",
        "name": "城市二等"
    }],
    "name": "idClass",
    "dName": "等级",
    "format": "combox"
}, {
    "values": [{
        "count": "8659",
        "name": "1954北京坐标系"
    }, {
        "count": "36933",
        "name": "1980西安坐标系"
    }, {
        "count": "46109",
        "name": "2000国家大地坐标系"
    }, {
        "count": "3034",
        "name": "独立坐标系"
    }],
    "name": "crsDatum",
    "dName": "大地基准",
    "format": "combox"
}, {
    "values": [{
        "count": "9035",
        "name": "1956黄海高程基准"
    }, {
        "count": "3134",
        "name": "1956黄海高程基准\/1985国家高程基准"
    }, {
        "count": "176196",
        "name": "1985国家高程基准"
    }, {
        "count": "3034",
        "name": "独立高程基准"
    }],
    "name": "crsVertCRS",
    "dName": "高程基准",
    "format": "combox"
}, {
    "values": [],
    "name": "sysidFormData",
    "dName": "生产时间",
    "format": "date"
}, {
    "values": [{
        "count": "96348",
        "name": "国家基础地理信息中心"
    }, {
        "count": "3034",
        "name": "北京市测绘设计研究院"
    }, {
        "count": "2502",
        "name": "山西省测绘资料档案馆"
    }, {
        "count": "6311",
        "name": "内蒙古自治区基础地理信息中心"
    }, {
        "count": "2323",
        "name": "湖南省基础地理信息中心"
    }, {
        "count": "11526",
        "name": "广东省国土资源档案馆"
    }],
    "name": "dtDistorCont",
    "dName": "分发单位",
    "format": "combox"
}]*/
var mndxt = [{
    "values": [{
        "count": "81",
        "name": "1000000"
    }, {
        "count": "258",
        "name": "500000"
    }, {
        "count": "3090",
        "name": "250000"
    }, {
        "count": "1453",
        "name": "200000"
    }, {
        "count": "6279",
        "name": "100000"
    }, {
        "count": "121410",
        "name": "50000"
    }, {
        "count": "187",
        "name": "25000"
    }, {
        "count": "209599",
        "name": "10000"
    }, {
        "count": "3032",
        "name": "5000"
    }],
    "name": "idMapScale",
    "dName": "比例尺",
    "format": "combox"
}, {
    "values": [{
        "count": "86974",
        "name": "1954北京坐标系"
    }, {
        "count": "9158",
        "name": "1954年北京坐标系"
    }, {
        "count": "93814",
        "name": "1980西安坐标系"
    }, {
        "count": "152611",
        "name": "2000国家大地坐标系"
    }, {
        "count": "2828",
        "name": "独立坐标系"
    }],
    "name": "crsDatum",
    "dName": "大地基准",
    "format": "combox"
}, {
    "values": [{
        "count": "59180",
        "name": "1956黄海高程基准"
    }, {
        "count": "252590",
        "name": "1985国家高程基准"
    }],
    "name": "crsVertCRS",
    "dName": "高程基准",
    "format": "combox"
}, {
    "values": [{
        "count": "1235",
        "name": "1967-01-01"
    }, {
        "count": "512",
        "name": "1968-01-01"
    },  {
        "count": "480",
        "name": "2009-10-01"
    }, {
        "count": "2639",
        "name": "2009-12-01"
    }, {
        "count": "7005",
        "name": "2010-01-01"
    }, {
        "count": "65",
        "name": "2010-04-01"
    }, {
        "count": "499",
        "name": "2010-06-01"
    },{
        "count": "42906",
        "name": "2014-01-01"
    }],
    "name": "sysidVersionType",
    "dName": "出版时间",
    "format": "date"
}, {
    "values": [{
        "count": "107347",
        "name": "国家基础地理信息中心"
    }, {
        "count": "136",
        "name": "北京市测绘设计研究院"
    }, {
        "count": "5303",
        "name": "河北省测绘资料档案馆"
    }, {
        "count": "7111",
        "name": "山西省测绘资料档案馆"
    }, {
        "count": "23736",
        "name": "内蒙古自治区基础地理信息中心"
    }, {
        "count": "7167",
        "name": "辽宁省地理信息资料馆"
    }, {
        "count": "7454",
        "name": "国家测绘地理信息局陕西基础地理信息中心"
    }, {
        "count": "2561",
        "name": "甘肃省基础地理信息中心"
    }, {
        "count": "3721",
        "name": "青海省基础地理信息中心"
    }, {
        "count": "2824",
        "name": "宁夏国土资源地理信息中心"
    }],
    "name": "dtDistorCont",
    "dName": "分发单位",
    "format": "combox"
}, {
    "values": [{
        "count": "212",
        "name": "6度分带喷绘"
    }, {
        "count": "32019",
        "name": "喷绘"
    }, {
        "count": "8835",
        "name": "喷绘数字影像地图"
    }],
    "name": "explain",
    "dName": "备注说明"
}]

function appendC(ary) {
    var str = '';
    for (var i = 0; i < ary.length; i++) {
        if (ary[i].format == 'date') {
            str += '<div class="startdate">' +
                '<input type="text" class="laydate-icon" id="start-date" placeholder="起始日期" readonly="readonly" tempid="sysidFormData"><i class="icon-cale icon-calendar24"></i></div>' +
                '<div id="spliceID" style="margin-top:4px;margin-left:2px;margin-right:2px;color:#AAAAAA;float:left;">─</div>' +
                '<div class="enddate"><input type="text" class="laydate-icon" id="end-date" placeholder="结束日期" readonly="readonly" tempid="sysidFormData"><i class="icon-cale icon-calendar24"></i></div>'
        } else {
            ary[i].list = '';
            for (var j = 0; j < ary[i].values.length; j++) {
                ary[i].list += '<a class="valBox" title="' + ary[i].values[j].name + '" >' + ary[i].values[j].name + '</a>'
            }
            str += '<div class="attrItem" id="' + ary[i].name + '">' +
                '<div class="itemValue">' + ary[i].dName + '<i class="icon-res icon-down5"></i></div>' +
                '<div class="valList" data-abc="' + ary[i].name + '">' + ary[i].list +
                '<div class="clearAttrBtn">清除选择' +
                '<div></div>' +
                '</div>' +
                '</div>' +
                '</div>'
                str+='<input type="hidden" name="' + ary[i].name + '" id="'+ ary[i].name + '_InputValue" value="" />';
        }
        
    }
    return str;
}
$('.listPage').html(appendC(szd))
$('#resTypeList a').click(function() {
    if ($(this).attr('id') == 2) {
        $('.listPage').html(appendC(szd))
    } else if ($(this).attr('id') == 11) {
        $('.listPage').html(appendC(mndxt))
    }
})


$('.attrsBox').delegate("a", "click", function() {debugger;
    $(this).parent().prev().html($(this).html() + '<i class="icon-res icon-down5"></i>');
    var selectValue = $(this).attr("title");
    var inputId=$(this).parent().data('abc')+"_InputValue";
    $("#"+inputId).attr("value",selectValue);//推荐这种写法,可正常赋值
})

$('.attrsBox').delegate(".clearAttrBtn", "click", function() {
    if ($('#resTypeValue').text() == '模拟地形图') {
        for (var i = 0; i < mndxt.length; i++) {
            if ($(this).parent().data('abc') == mndxt[i].name) {
                $(this).parent().prev().html(mndxt[i].dName + '<i class="icon-res icon-down5"></i>');
                var inputId=$(this).parent().data('abc')+"_InputValue";
    			$("#"+inputId).attr("value","");//清空
            }
        }
    }
    if ($('#resTypeValue').text() == '水准点') {
        for (var i = 0; i < szd.length; i++) {
            if ($(this).parent().data('abc') == szd[i].name) {
                $(this).parent().prev().html(szd[i].dName + '<i class="icon-res icon-down5"></i>');
                var inputId=$(this).parent().data('abc')+"_InputValue";
    			$("#"+inputId).attr("value","");//清空
            }
        }
    }
})